<!DOCTYPE html> <html lang=en > <meta charset=utf-8  /> <meta http-equiv=X-UA-Compatible  content="IE=edge,chrome=1" /> <meta name=viewport  content="width=device-width, initial-scale=1.0" /> <title> IntSet - Portfolio - athanclark.com </title> <meta name=description  content="<code>IntSet</code> is a container for storing <code>bigint</code>s in a relatively efficient manner. It uses bit masking to store numbers more efficiently." /> <meta name=keywords  content="JavaScript, Set Theory, Bit Masking, Container, BigInt" /> <link rel=stylesheet  type="text/css" href=/main-26105c4c0ec.min.css  /> <script> window.onload = function() { const mobileNav = document.getElementById('page-select'); const currentPage = mobileNav.parentElement.parentElement.classList[0]; for (const navItem of mobileNav.children) { if (navItem.className === currentPage) { navItem.setAttribute('selected',''); } } mobileNav.onchange = function(e) { window.location.pathname = `/${e.target.value}.html`; }; }; </script> <main class=container > <header> <h1>athanclark.com</h1> </header> <section class=grid > <nav class=" portfolio "> <ul> <li class=index > <a href="/index.html">Home</a> <li class=contact > <a href="/contact.html">Contact</a> <li class=portfolio > <a href="/portfolio.html">Portfolio</a> <li class=blog > <a href="/blog.html">Blog</a> </ul> <p><select id=page-select > <option class=index  value=index >Home <option class=contact  value=contact >Contact <option class=portfolio  value=portfolio >Portfolio <option class=blog  value=blog >Blog </select></p> </nav> <article> <h1>IntSet</h1> <dl> <dt> Keywords: <dd> JavaScript, Set Theory, Bit Masking, Container, BigInt <dt> Development Date: <dd> 2023-11-21 <dt> Website: <dd> <a href="https://www.npmjs.com/package/intset" target=__blank >https://www.npmjs.com/package/intset</a> </dl> <hr /> <div> <h3>Abstract</h3> <code>IntSet</code> is a container for storing <code>bigint</code>s in a relatively efficient manner. It uses bit masking to store numbers more efficiently. </div> <h1 id=functionality >Functionality</h1> <p>You can view the code at the <a href="https://github.com/athanclark/intset.js">GitHub repository</a>, but I’ll describe the functionality here.</p> <h2 id=as-a-container >As a Container</h2> <p>You can treat an <code>IntSet</code> as a general purpose container for <code>bigint</code>s pretty intuitively, designed after the built-in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set"><code>Set</code></a>:</p> <div class=sourceCode  id=cb1 ><pre class="sourceCode js"><code class="sourceCode javascript"><span id=cb1-1 ><a href="#cb1-1" aria-hidden=true  tabindex=-1 ></a><span class=kw >const</span> IntSet <span class=op >=</span> <span class=pp >require</span>(<span class=st >&#39;intset&#39;</span>)<span class=op >;</span></span>
<span id=cb1-2 ><a href="#cb1-2" aria-hidden=true  tabindex=-1 ></a></span>
<span id=cb1-3 ><a href="#cb1-3" aria-hidden=true  tabindex=-1 ></a><span class=kw >let</span> <span class=kw >set</span> <span class=op >=</span> <span class=kw >new</span> <span class=fu >IntSet</span>()<span class=op >;</span></span>
<span id=cb1-4 ><a href="#cb1-4" aria-hidden=true  tabindex=-1 ></a></span>
<span id=cb1-5 ><a href="#cb1-5" aria-hidden=true  tabindex=-1 ></a><span class=co >// add a value</span></span>
<span id=cb1-6 ><a href="#cb1-6" aria-hidden=true  tabindex=-1 ></a><span class=kw >set</span><span class=op >.</span><span class=fu >add</span>(<span class=dv >1</span>n)<span class=op >;</span></span>
<span id=cb1-7 ><a href="#cb1-7" aria-hidden=true  tabindex=-1 ></a></span>
<span id=cb1-8 ><a href="#cb1-8" aria-hidden=true  tabindex=-1 ></a><span class=co >// remove a value</span></span>
<span id=cb1-9 ><a href="#cb1-9" aria-hidden=true  tabindex=-1 ></a><span class=kw >set</span><span class=op >.</span><span class=fu >remove</span>(<span class=dv >1</span>n)<span class=op >;</span></span>
<span id=cb1-10 ><a href="#cb1-10" aria-hidden=true  tabindex=-1 ></a></span>
<span id=cb1-11 ><a href="#cb1-11" aria-hidden=true  tabindex=-1 ></a><span class=co >// check if the set contains a value</span></span>
<span id=cb1-12 ><a href="#cb1-12" aria-hidden=true  tabindex=-1 ></a><span class=kw >set</span><span class=op >.</span><span class=fu >contains</span>(<span class=dv >1</span>n)<span class=op >;</span></span>
<span id=cb1-13 ><a href="#cb1-13" aria-hidden=true  tabindex=-1 ></a></span>
<span id=cb1-14 ><a href="#cb1-14" aria-hidden=true  tabindex=-1 ></a><span class=co >// see if the set is empty</span></span>
<span id=cb1-15 ><a href="#cb1-15" aria-hidden=true  tabindex=-1 ></a><span class=kw >set</span><span class=op >.</span><span class=fu >isEmpty</span>()<span class=op >;</span></span></code></pre></div> <h2 id=as-a-set >As a Set</h2> <p>The whole purpose behind this data structure is to allow for “efficient” unions, intersections, symmetric difference, and difference operations with the sets. Imagine you have two sets, <code>set1</code> and <code>set2</code>. These operations can be done like so:</p> <div class=sourceCode  id=cb2 ><pre class="sourceCode js"><code class="sourceCode javascript"><span id=cb2-1 ><a href="#cb2-1" aria-hidden=true  tabindex=-1 ></a><span class=co >// returns a union of the two sets</span></span>
<span id=cb2-2 ><a href="#cb2-2" aria-hidden=true  tabindex=-1 ></a><span class=kw >const</span> unionOfSet1And2 <span class=op >=</span> set1<span class=op >.</span><span class=fu >union</span>(set2)<span class=op >;</span></span>
<span id=cb2-3 ><a href="#cb2-3" aria-hidden=true  tabindex=-1 ></a></span>
<span id=cb2-4 ><a href="#cb2-4" aria-hidden=true  tabindex=-1 ></a><span class=co >// returns an intersection</span></span>
<span id=cb2-5 ><a href="#cb2-5" aria-hidden=true  tabindex=-1 ></a><span class=kw >const</span> unionOfSet1And2 <span class=op >=</span> set1<span class=op >.</span><span class=fu >intersection</span>(set2)<span class=op >;</span></span>
<span id=cb2-6 ><a href="#cb2-6" aria-hidden=true  tabindex=-1 ></a></span>
<span id=cb2-7 ><a href="#cb2-7" aria-hidden=true  tabindex=-1 ></a><span class=co >// returns a symmetric difference</span></span>
<span id=cb2-8 ><a href="#cb2-8" aria-hidden=true  tabindex=-1 ></a><span class=kw >const</span> symDiffOfSet1And2 <span class=op >=</span> set1<span class=op >.</span><span class=fu >symmetricDifference</span>(set2)<span class=op >;</span></span>
<span id=cb2-9 ><a href="#cb2-9" aria-hidden=true  tabindex=-1 ></a></span>
<span id=cb2-10 ><a href="#cb2-10" aria-hidden=true  tabindex=-1 ></a><span class=co >// returns set1 without elements of set2</span></span>
<span id=cb2-11 ><a href="#cb2-11" aria-hidden=true  tabindex=-1 ></a><span class=kw >const</span> set1Diff2 <span class=op >=</span> set1<span class=op >.</span><span class=fu >difference</span>(set2)<span class=op >;</span></span></code></pre></div> <h2 id=implementation >Implementation</h2> <p>This datastructure is implemented in a very simple way – through bit masking. For a thorough explanation of bit masking, please see this project’s <a href="/blog/intset.html#bit-masking">blog post</a>.</p> </article> </section> <footer> Copyright &copy; Athan Clark 2023, All Rights Reserved </footer> </main>